"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/payment/success/route";
exports.ids = ["app/api/payment/success/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpayment%2Fsuccess%2Froute&page=%2Fapi%2Fpayment%2Fsuccess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpayment%2Fsuccess%2Froute.ts&appDir=D%3A%5Cprojects%5Clove-fortune%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cprojects%5Clove-fortune&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpayment%2Fsuccess%2Froute&page=%2Fapi%2Fpayment%2Fsuccess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpayment%2Fsuccess%2Froute.ts&appDir=D%3A%5Cprojects%5Clove-fortune%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cprojects%5Clove-fortune&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_projects_love_fortune_app_api_payment_success_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/payment/success/route.ts */ \"(rsc)/./app/api/payment/success/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/payment/success/route\",\n        pathname: \"/api/payment/success\",\n        filename: \"route\",\n        bundlePath: \"app/api/payment/success/route\"\n    },\n    resolvedPagePath: \"D:\\\\projects\\\\love-fortune\\\\app\\\\api\\\\payment\\\\success\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_projects_love_fortune_app_api_payment_success_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/payment/success/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwYXltZW50JTJGc3VjY2VzcyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcGF5bWVudCUyRnN1Y2Nlc3MlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZwYXltZW50JTJGc3VjY2VzcyUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDcHJvamVjdHMlNUNsb3ZlLWZvcnR1bmUlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUQlM0ElNUNwcm9qZWN0cyU1Q2xvdmUtZm9ydHVuZSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNnQjtBQUM3RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL2xvdmUtZm9ydHVuZS8/YmNlMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJEOlxcXFxwcm9qZWN0c1xcXFxsb3ZlLWZvcnR1bmVcXFxcYXBwXFxcXGFwaVxcXFxwYXltZW50XFxcXHN1Y2Nlc3NcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3BheW1lbnQvc3VjY2Vzcy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3BheW1lbnQvc3VjY2Vzc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcGF5bWVudC9zdWNjZXNzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRDpcXFxccHJvamVjdHNcXFxcbG92ZS1mb3J0dW5lXFxcXGFwcFxcXFxhcGlcXFxccGF5bWVudFxcXFxzdWNjZXNzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3BheW1lbnQvc3VjY2Vzcy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpayment%2Fsuccess%2Froute&page=%2Fapi%2Fpayment%2Fsuccess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpayment%2Fsuccess%2Froute.ts&appDir=D%3A%5Cprojects%5Clove-fortune%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cprojects%5Clove-fortune&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/payment/success/route.ts":
/*!******************************************!*\
  !*** ./app/api/payment/success/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var stripe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! stripe */ \"(rsc)/./node_modules/stripe/esm/stripe.esm.node.js\");\n/* harmony import */ var _lib_email__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/email */ \"(rsc)/./lib/email.ts\");\n/* harmony import */ var _lib_ai__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/ai */ \"(rsc)/./lib/ai.ts\");\n/* harmony import */ var marked__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! marked */ \"(rsc)/./node_modules/marked/lib/marked.esm.js\");\n\n\n\n\n\n// 检查环境变量\nif (!process.env.STRIPE_SECRET_KEY) {\n    throw new Error(\"STRIPE_SECRET_KEY 环境变量未设置\");\n}\nconst stripe = new stripe__WEBPACK_IMPORTED_MODULE_1__[\"default\"](process.env.STRIPE_SECRET_KEY, {\n    apiVersion: \"2025-04-30.basil\"\n});\nasync function POST(req) {\n    try {\n        const { sessionId } = await req.json();\n        const session = await stripe.checkout.sessions.retrieve(sessionId);\n        if (session.payment_status === \"paid\") {\n            const metadata = session.metadata;\n            const customerEmail = session.customer_email;\n            if (!metadata || !customerEmail) {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"Session metadata or customer email missing\"\n                }, {\n                    status: 400\n                });\n            }\n            const { question, userData } = metadata;\n            const parsedUserData = JSON.parse(userData);\n            const aiResponse = await (0,_lib_ai__WEBPACK_IMPORTED_MODULE_3__.generateAIResponse)(question, parsedUserData);\n            const htmlContent = await marked__WEBPACK_IMPORTED_MODULE_4__.marked.parse(aiResponse);\n            await (0,_lib_email__WEBPACK_IMPORTED_MODULE_2__.sendEmail)({\n                to: customerEmail,\n                subject: \"Your Love Reading Answer\",\n                html: generateEmailTemplate(question, htmlContent)\n            });\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: true\n            });\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Payment not completed\"\n        }, {\n            status: 400\n        });\n    } catch (error) {\n        console.error(\"Payment success handling error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Failed to process payment success\"\n        }, {\n            status: 500\n        });\n    }\n}\nfunction generateEmailTemplate(question, answerHtml) {\n    return `\r\n    <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; \r\n      background: linear-gradient(135deg, #6B21A8 0%, #111827 100%);\r\n      color: #f3e8ff; border-radius: 16px; box-shadow: 0 4px 24px #0004; padding: 32px;\">\r\n      <h2 style=\"color: #c4b5fd; text-align:center; margin-bottom: 24px;\">Your Love Reading Answer</h2>\r\n      <div style=\"background: rgba(30, 27, 75, 0.7); border-radius: 12px; padding: 20px; margin-bottom: 24px;\">\r\n        <h3 style=\"color: #a78bfa;\">Your Question:</h3>\r\n        <p style=\"color: #f3e8ff;\">${question}</p>\r\n      </div>\r\n      <div style=\"background: rgba(30, 27, 75, 0.7); border-radius: 12px; padding: 20px;\">\r\n        <h3 style=\"color: #a78bfa;\">Your Answer:</h3>\r\n        <div style=\"color: #f3e8ff;\">${answerHtml}</div>\r\n      </div>\r\n      <div style=\"margin-top: 32px; text-align: center; color: #a78bfa;\">\r\n        Thank you for using our service!<br>\r\n        <span style=\"font-size: 1.1em;\">Love Fortune Team</span>\r\n      </div>\r\n    </div>\r\n  `;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3BheW1lbnQvc3VjY2Vzcy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMkM7QUFDZjtBQUNZO0FBQ007QUFDZDtBQUVoQyxTQUFTO0FBQ1QsSUFBSSxDQUFDSyxRQUFRQyxHQUFHLENBQUNDLGlCQUFpQixFQUFFO0lBQ2xDLE1BQU0sSUFBSUMsTUFBTTtBQUNsQjtBQUVBLE1BQU1DLFNBQVMsSUFBSVIsOENBQU1BLENBQUNJLFFBQVFDLEdBQUcsQ0FBQ0MsaUJBQWlCLEVBQUU7SUFDdkRHLFlBQVk7QUFDZDtBQUVPLGVBQWVDLEtBQUtDLEdBQVk7SUFDckMsSUFBSTtRQUNGLE1BQU0sRUFBRUMsU0FBUyxFQUFFLEdBQUcsTUFBTUQsSUFBSUUsSUFBSTtRQUVwQyxNQUFNQyxVQUFVLE1BQU1OLE9BQU9PLFFBQVEsQ0FBQ0MsUUFBUSxDQUFDQyxRQUFRLENBQUNMO1FBQ3hELElBQUlFLFFBQVFJLGNBQWMsS0FBSyxRQUFRO1lBQ3JDLE1BQU1DLFdBQVdMLFFBQVFLLFFBQVE7WUFDakMsTUFBTUMsZ0JBQWdCTixRQUFRTyxjQUFjO1lBQzVDLElBQUksQ0FBQ0YsWUFBWSxDQUFDQyxlQUFlO2dCQUMvQixPQUFPckIsa0ZBQVlBLENBQUNjLElBQUksQ0FDdEI7b0JBQUVTLE9BQU87Z0JBQTZDLEdBQ3REO29CQUFFQyxRQUFRO2dCQUFJO1lBRWxCO1lBQ0EsTUFBTSxFQUFFQyxRQUFRLEVBQUVDLFFBQVEsRUFBRSxHQUFHTjtZQUMvQixNQUFNTyxpQkFBaUJDLEtBQUtDLEtBQUssQ0FBQ0g7WUFFbEMsTUFBTUksYUFBYSxNQUFNM0IsMkRBQWtCQSxDQUFDc0IsVUFBVUU7WUFDdEQsTUFBTUksY0FBYyxNQUFNM0IsMENBQU1BLENBQUN5QixLQUFLLENBQUNDO1lBRXZDLE1BQU01QixxREFBU0EsQ0FBQztnQkFDZDhCLElBQUlYO2dCQUNKWSxTQUFTO2dCQUNUQyxNQUFNQyxzQkFBc0JWLFVBQVVNO1lBQ3hDO1lBRUEsT0FBTy9CLGtGQUFZQSxDQUFDYyxJQUFJLENBQUM7Z0JBQUVzQixTQUFTO1lBQUs7UUFDM0M7UUFFQSxPQUFPcEMsa0ZBQVlBLENBQUNjLElBQUksQ0FDdEI7WUFBRVMsT0FBTztRQUF3QixHQUNqQztZQUFFQyxRQUFRO1FBQUk7SUFFbEIsRUFBRSxPQUFPRCxPQUFPO1FBQ2RjLFFBQVFkLEtBQUssQ0FBQyxtQ0FBbUNBO1FBQ2pELE9BQU92QixrRkFBWUEsQ0FBQ2MsSUFBSSxDQUN0QjtZQUFFUyxPQUFPO1FBQW9DLEdBQzdDO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGO0FBRUEsU0FBU1csc0JBQXNCVixRQUFnQixFQUFFYSxVQUFrQjtJQUNqRSxPQUFPLENBQUM7Ozs7Ozs7bUNBT3lCLEVBQUViLFNBQVM7Ozs7cUNBSVQsRUFBRWEsV0FBVzs7Ozs7OztFQU9oRCxDQUFDO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sb3ZlLWZvcnR1bmUvLi9hcHAvYXBpL3BheW1lbnQvc3VjY2Vzcy9yb3V0ZS50cz8xMWE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IFN0cmlwZSBmcm9tICdzdHJpcGUnO1xyXG5pbXBvcnQgeyBzZW5kRW1haWwgfSBmcm9tICdAL2xpYi9lbWFpbCc7XHJcbmltcG9ydCB7IGdlbmVyYXRlQUlSZXNwb25zZSB9IGZyb20gJ0AvbGliL2FpJztcclxuaW1wb3J0IHsgbWFya2VkIH0gZnJvbSAnbWFya2VkJztcclxuXHJcbi8vIOajgOafpeeOr+Wig+WPmOmHj1xyXG5pZiAoIXByb2Nlc3MuZW52LlNUUklQRV9TRUNSRVRfS0VZKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKCdTVFJJUEVfU0VDUkVUX0tFWSDnjq/looPlj5jph4/mnKrorr7nva4nKTtcclxufVxyXG5cclxuY29uc3Qgc3RyaXBlID0gbmV3IFN0cmlwZShwcm9jZXNzLmVudi5TVFJJUEVfU0VDUkVUX0tFWSwge1xyXG4gIGFwaVZlcnNpb246ICcyMDI1LTA0LTMwLmJhc2lsJywgLy8g5L2/55So5a6Y5pa556iz5a6a54mI5pysXHJcbn0pO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgc2Vzc2lvbklkIH0gPSBhd2FpdCByZXEuanNvbigpO1xyXG5cclxuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBzdHJpcGUuY2hlY2tvdXQuc2Vzc2lvbnMucmV0cmlldmUoc2Vzc2lvbklkKTtcclxuICAgIGlmIChzZXNzaW9uLnBheW1lbnRfc3RhdHVzID09PSAncGFpZCcpIHtcclxuICAgICAgY29uc3QgbWV0YWRhdGEgPSBzZXNzaW9uLm1ldGFkYXRhO1xyXG4gICAgICBjb25zdCBjdXN0b21lckVtYWlsID0gc2Vzc2lvbi5jdXN0b21lcl9lbWFpbDtcclxuICAgICAgaWYgKCFtZXRhZGF0YSB8fCAhY3VzdG9tZXJFbWFpbCkge1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgIHsgZXJyb3I6ICdTZXNzaW9uIG1ldGFkYXRhIG9yIGN1c3RvbWVyIGVtYWlsIG1pc3NpbmcnIH0sXHJcbiAgICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHsgcXVlc3Rpb24sIHVzZXJEYXRhIH0gPSBtZXRhZGF0YTtcclxuICAgICAgY29uc3QgcGFyc2VkVXNlckRhdGEgPSBKU09OLnBhcnNlKHVzZXJEYXRhKTtcclxuXHJcbiAgICAgIGNvbnN0IGFpUmVzcG9uc2UgPSBhd2FpdCBnZW5lcmF0ZUFJUmVzcG9uc2UocXVlc3Rpb24sIHBhcnNlZFVzZXJEYXRhKTtcclxuICAgICAgY29uc3QgaHRtbENvbnRlbnQgPSBhd2FpdCBtYXJrZWQucGFyc2UoYWlSZXNwb25zZSk7XHJcblxyXG4gICAgICBhd2FpdCBzZW5kRW1haWwoe1xyXG4gICAgICAgIHRvOiBjdXN0b21lckVtYWlsLFxyXG4gICAgICAgIHN1YmplY3Q6ICdZb3VyIExvdmUgUmVhZGluZyBBbnN3ZXInLFxyXG4gICAgICAgIGh0bWw6IGdlbmVyYXRlRW1haWxUZW1wbGF0ZShxdWVzdGlvbiwgaHRtbENvbnRlbnQpLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IHRydWUgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiAnUGF5bWVudCBub3QgY29tcGxldGVkJyB9LFxyXG4gICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1BheW1lbnQgc3VjY2VzcyBoYW5kbGluZyBlcnJvcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gcHJvY2VzcyBwYXltZW50IHN1Y2Nlc3MnIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlRW1haWxUZW1wbGF0ZShxdWVzdGlvbjogc3RyaW5nLCBhbnN3ZXJIdG1sOiBzdHJpbmcpIHtcclxuICByZXR1cm4gYFxyXG4gICAgPGRpdiBzdHlsZT1cImZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsgbWF4LXdpZHRoOiA2MDBweDsgbWFyZ2luOiAwIGF1dG87IFxyXG4gICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNkIyMUE4IDAlLCAjMTExODI3IDEwMCUpO1xyXG4gICAgICBjb2xvcjogI2YzZThmZjsgYm9yZGVyLXJhZGl1czogMTZweDsgYm94LXNoYWRvdzogMCA0cHggMjRweCAjMDAwNDsgcGFkZGluZzogMzJweDtcIj5cclxuICAgICAgPGgyIHN0eWxlPVwiY29sb3I6ICNjNGI1ZmQ7IHRleHQtYWxpZ246Y2VudGVyOyBtYXJnaW4tYm90dG9tOiAyNHB4O1wiPllvdXIgTG92ZSBSZWFkaW5nIEFuc3dlcjwvaDI+XHJcbiAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiByZ2JhKDMwLCAyNywgNzUsIDAuNyk7IGJvcmRlci1yYWRpdXM6IDEycHg7IHBhZGRpbmc6IDIwcHg7IG1hcmdpbi1ib3R0b206IDI0cHg7XCI+XHJcbiAgICAgICAgPGgzIHN0eWxlPVwiY29sb3I6ICNhNzhiZmE7XCI+WW91ciBRdWVzdGlvbjo8L2gzPlxyXG4gICAgICAgIDxwIHN0eWxlPVwiY29sb3I6ICNmM2U4ZmY7XCI+JHtxdWVzdGlvbn08L3A+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogcmdiYSgzMCwgMjcsIDc1LCAwLjcpOyBib3JkZXItcmFkaXVzOiAxMnB4OyBwYWRkaW5nOiAyMHB4O1wiPlxyXG4gICAgICAgIDxoMyBzdHlsZT1cImNvbG9yOiAjYTc4YmZhO1wiPllvdXIgQW5zd2VyOjwvaDM+XHJcbiAgICAgICAgPGRpdiBzdHlsZT1cImNvbG9yOiAjZjNlOGZmO1wiPiR7YW5zd2VySHRtbH08L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW4tdG9wOiAzMnB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGNvbG9yOiAjYTc4YmZhO1wiPlxyXG4gICAgICAgIFRoYW5rIHlvdSBmb3IgdXNpbmcgb3VyIHNlcnZpY2UhPGJyPlxyXG4gICAgICAgIDxzcGFuIHN0eWxlPVwiZm9udC1zaXplOiAxLjFlbTtcIj5Mb3ZlIEZvcnR1bmUgVGVhbTwvc3Bhbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICBgO1xyXG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIlN0cmlwZSIsInNlbmRFbWFpbCIsImdlbmVyYXRlQUlSZXNwb25zZSIsIm1hcmtlZCIsInByb2Nlc3MiLCJlbnYiLCJTVFJJUEVfU0VDUkVUX0tFWSIsIkVycm9yIiwic3RyaXBlIiwiYXBpVmVyc2lvbiIsIlBPU1QiLCJyZXEiLCJzZXNzaW9uSWQiLCJqc29uIiwic2Vzc2lvbiIsImNoZWNrb3V0Iiwic2Vzc2lvbnMiLCJyZXRyaWV2ZSIsInBheW1lbnRfc3RhdHVzIiwibWV0YWRhdGEiLCJjdXN0b21lckVtYWlsIiwiY3VzdG9tZXJfZW1haWwiLCJlcnJvciIsInN0YXR1cyIsInF1ZXN0aW9uIiwidXNlckRhdGEiLCJwYXJzZWRVc2VyRGF0YSIsIkpTT04iLCJwYXJzZSIsImFpUmVzcG9uc2UiLCJodG1sQ29udGVudCIsInRvIiwic3ViamVjdCIsImh0bWwiLCJnZW5lcmF0ZUVtYWlsVGVtcGxhdGUiLCJzdWNjZXNzIiwiY29uc29sZSIsImFuc3dlckh0bWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/payment/success/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/ai.ts":
/*!*******************!*\
  !*** ./lib/ai.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateAIResponse: () => (/* binding */ generateAIResponse)\n/* harmony export */ });\nasync function generateAIResponse(question, userData) {\n    try {\n        const response = await fetch(\"https://api.deepseek.com/v1/chat/completions\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${process.env.DEEPSEEK_API_KEY}`\n            },\n            body: JSON.stringify({\n                model: \"deepseek-chat\",\n                messages: [\n                    {\n                        role: \"system\",\n                        content: `You are a professional love and relationship consultant. \r\n            The user's information: \r\n            Name: ${userData.name}\r\n            Birthday: ${userData.birthday}\r\n            Gender: ${userData.gender}\r\n            MBTI: ${userData.mbti}\r\n            Zodiac: ${userData.zodiac}\r\n            \r\n            Please first briefly analyze the user's past emotional experiences and influencing factors (if any), then provide a detailed, logical, and well-reasoned answer to their question. All predictions and advice must be based on the current date (${new Date().toISOString().split(\"T\")[0]}) and the future. For every conclusion, explain the reasoning and influencing factors, incorporating the user's zodiac, MBTI, and birthday information. Focus on the user's specific question, provide time periods and key events to watch for, and avoid generic personality analysis. Do not mention AI in the answer.`\n                    },\n                    {\n                        role: \"user\",\n                        content: question\n                    }\n                ],\n                temperature: 0.7,\n                max_tokens: 1000\n            })\n        });\n        const data = await response.json();\n        return data.choices[0].message.content;\n    } catch (error) {\n        console.error(\"AI response generation failed:\", error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYWkudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLGVBQWVBLG1CQUFtQkMsUUFBZ0IsRUFBRUMsUUFBYTtJQUN0RSxJQUFJO1FBQ0YsTUFBTUMsV0FBVyxNQUFNQyxNQUFNLGdEQUFnRDtZQUMzRUMsUUFBUTtZQUNSQyxTQUFTO2dCQUNQLGdCQUFnQjtnQkFDaEIsaUJBQWlCLENBQUMsT0FBTyxFQUFFQyxRQUFRQyxHQUFHLENBQUNDLGdCQUFnQixDQUFDLENBQUM7WUFDM0Q7WUFDQUMsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO2dCQUNuQkMsT0FBTztnQkFDUEMsVUFBVTtvQkFDUjt3QkFDRUMsTUFBTTt3QkFDTkMsU0FBUyxDQUFDOztrQkFFSixFQUFFZCxTQUFTZSxJQUFJLENBQUM7c0JBQ1osRUFBRWYsU0FBU2dCLFFBQVEsQ0FBQztvQkFDdEIsRUFBRWhCLFNBQVNpQixNQUFNLENBQUM7a0JBQ3BCLEVBQUVqQixTQUFTa0IsSUFBSSxDQUFDO29CQUNkLEVBQUVsQixTQUFTbUIsTUFBTSxDQUFDOzs2UEFFdU4sRUFBRSxJQUFJQyxPQUFPQyxXQUFXLEdBQUdDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLHlUQUF5VCxDQUFDO29CQUN0bEI7b0JBQ0E7d0JBQ0VULE1BQU07d0JBQ05DLFNBQVNmO29CQUNYO2lCQUNEO2dCQUNEd0IsYUFBYTtnQkFDYkMsWUFBWTtZQUNkO1FBQ0Y7UUFFQSxNQUFNQyxPQUFPLE1BQU14QixTQUFTeUIsSUFBSTtRQUNoQyxPQUFPRCxLQUFLRSxPQUFPLENBQUMsRUFBRSxDQUFDQyxPQUFPLENBQUNkLE9BQU87SUFDeEMsRUFBRSxPQUFPZSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxrQ0FBa0NBO1FBQ2hELE1BQU1BO0lBQ1I7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2xvdmUtZm9ydHVuZS8uL2xpYi9haS50cz84MjQ5Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUFJUmVzcG9uc2UocXVlc3Rpb246IHN0cmluZywgdXNlckRhdGE6IGFueSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL2FwaS5kZWVwc2Vlay5jb20vdjEvY2hhdC9jb21wbGV0aW9ucycsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Byb2Nlc3MuZW52LkRFRVBTRUVLX0FQSV9LRVl9YCxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG1vZGVsOiAnZGVlcHNlZWstY2hhdCcsXHJcbiAgICAgICAgbWVzc2FnZXM6IFtcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgcm9sZTogJ3N5c3RlbScsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IGBZb3UgYXJlIGEgcHJvZmVzc2lvbmFsIGxvdmUgYW5kIHJlbGF0aW9uc2hpcCBjb25zdWx0YW50LiBcclxuICAgICAgICAgICAgVGhlIHVzZXIncyBpbmZvcm1hdGlvbjogXHJcbiAgICAgICAgICAgIE5hbWU6ICR7dXNlckRhdGEubmFtZX1cclxuICAgICAgICAgICAgQmlydGhkYXk6ICR7dXNlckRhdGEuYmlydGhkYXl9XHJcbiAgICAgICAgICAgIEdlbmRlcjogJHt1c2VyRGF0YS5nZW5kZXJ9XHJcbiAgICAgICAgICAgIE1CVEk6ICR7dXNlckRhdGEubWJ0aX1cclxuICAgICAgICAgICAgWm9kaWFjOiAke3VzZXJEYXRhLnpvZGlhY31cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFBsZWFzZSBmaXJzdCBicmllZmx5IGFuYWx5emUgdGhlIHVzZXIncyBwYXN0IGVtb3Rpb25hbCBleHBlcmllbmNlcyBhbmQgaW5mbHVlbmNpbmcgZmFjdG9ycyAoaWYgYW55KSwgdGhlbiBwcm92aWRlIGEgZGV0YWlsZWQsIGxvZ2ljYWwsIGFuZCB3ZWxsLXJlYXNvbmVkIGFuc3dlciB0byB0aGVpciBxdWVzdGlvbi4gQWxsIHByZWRpY3Rpb25zIGFuZCBhZHZpY2UgbXVzdCBiZSBiYXNlZCBvbiB0aGUgY3VycmVudCBkYXRlICgke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdfSkgYW5kIHRoZSBmdXR1cmUuIEZvciBldmVyeSBjb25jbHVzaW9uLCBleHBsYWluIHRoZSByZWFzb25pbmcgYW5kIGluZmx1ZW5jaW5nIGZhY3RvcnMsIGluY29ycG9yYXRpbmcgdGhlIHVzZXIncyB6b2RpYWMsIE1CVEksIGFuZCBiaXJ0aGRheSBpbmZvcm1hdGlvbi4gRm9jdXMgb24gdGhlIHVzZXIncyBzcGVjaWZpYyBxdWVzdGlvbiwgcHJvdmlkZSB0aW1lIHBlcmlvZHMgYW5kIGtleSBldmVudHMgdG8gd2F0Y2ggZm9yLCBhbmQgYXZvaWQgZ2VuZXJpYyBwZXJzb25hbGl0eSBhbmFseXNpcy4gRG8gbm90IG1lbnRpb24gQUkgaW4gdGhlIGFuc3dlci5gXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICByb2xlOiAndXNlcicsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IHF1ZXN0aW9uXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICB0ZW1wZXJhdHVyZTogMC43LFxyXG4gICAgICAgIG1heF90b2tlbnM6IDEwMDAsXHJcbiAgICAgIH0pLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIHJldHVybiBkYXRhLmNob2ljZXNbMF0ubWVzc2FnZS5jb250ZW50O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdBSSByZXNwb25zZSBnZW5lcmF0aW9uIGZhaWxlZDonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn0gIl0sIm5hbWVzIjpbImdlbmVyYXRlQUlSZXNwb25zZSIsInF1ZXN0aW9uIiwidXNlckRhdGEiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsInByb2Nlc3MiLCJlbnYiLCJERUVQU0VFS19BUElfS0VZIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtb2RlbCIsIm1lc3NhZ2VzIiwicm9sZSIsImNvbnRlbnQiLCJuYW1lIiwiYmlydGhkYXkiLCJnZW5kZXIiLCJtYnRpIiwiem9kaWFjIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJ0ZW1wZXJhdHVyZSIsIm1heF90b2tlbnMiLCJkYXRhIiwianNvbiIsImNob2ljZXMiLCJtZXNzYWdlIiwiZXJyb3IiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/ai.ts\n");

/***/ }),

/***/ "(rsc)/./lib/email.ts":
/*!**********************!*\
  !*** ./lib/email.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendEmail: () => (/* binding */ sendEmail)\n/* harmony export */ });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"(rsc)/./node_modules/nodemailer/lib/nodemailer.js\");\n\nconst transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0__.createTransport({\n    host: process.env.SMTP_HOST,\n    port: Number(process.env.SMTP_PORT),\n    secure: true,\n    auth: {\n        user: process.env.SMTP_USER,\n        pass: process.env.SMTP_PASS\n    }\n});\nasync function sendEmail({ to, subject, html }) {\n    try {\n        await transporter.sendMail({\n            from: process.env.SMTP_FROM,\n            to,\n            subject,\n            html\n        });\n    } catch (error) {\n        console.error(\"Email sending failed:\", error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZW1haWwudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBeUM7QUFFekMsTUFBTUMsY0FBY0QsdURBQTBCLENBQUM7SUFDN0NHLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQ0MsU0FBUztJQUMzQkMsTUFBTUMsT0FBT0osUUFBUUMsR0FBRyxDQUFDSSxTQUFTO0lBQ2xDQyxRQUFRO0lBQ1JDLE1BQU07UUFDSkMsTUFBTVIsUUFBUUMsR0FBRyxDQUFDUSxTQUFTO1FBQzNCQyxNQUFNVixRQUFRQyxHQUFHLENBQUNVLFNBQVM7SUFDN0I7QUFDRjtBQVFPLGVBQWVDLFVBQVUsRUFBRUMsRUFBRSxFQUFFQyxPQUFPLEVBQUVDLElBQUksRUFBZTtJQUNoRSxJQUFJO1FBQ0YsTUFBTWxCLFlBQVltQixRQUFRLENBQUM7WUFDekJDLE1BQU1qQixRQUFRQyxHQUFHLENBQUNpQixTQUFTO1lBQzNCTDtZQUNBQztZQUNBQztRQUNGO0lBQ0YsRUFBRSxPQUFPSSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyx5QkFBeUJBO1FBQ3ZDLE1BQU1BO0lBQ1I7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2xvdmUtZm9ydHVuZS8uL2xpYi9lbWFpbC50cz84MjgxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIG5vZGVtYWlsZXIgZnJvbSAnbm9kZW1haWxlcic7XHJcblxyXG5jb25zdCB0cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcclxuICBob3N0OiBwcm9jZXNzLmVudi5TTVRQX0hPU1QsXHJcbiAgcG9ydDogTnVtYmVyKHByb2Nlc3MuZW52LlNNVFBfUE9SVCksXHJcbiAgc2VjdXJlOiB0cnVlLFxyXG4gIGF1dGg6IHtcclxuICAgIHVzZXI6IHByb2Nlc3MuZW52LlNNVFBfVVNFUixcclxuICAgIHBhc3M6IHByb2Nlc3MuZW52LlNNVFBfUEFTUyxcclxuICB9LFxyXG59KTtcclxuXHJcbmludGVyZmFjZSBFbWFpbFBhcmFtcyB7XHJcbiAgdG86IHN0cmluZztcclxuICBzdWJqZWN0OiBzdHJpbmc7XHJcbiAgaHRtbDogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZEVtYWlsKHsgdG8sIHN1YmplY3QsIGh0bWwgfTogRW1haWxQYXJhbXMpIHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgdHJhbnNwb3J0ZXIuc2VuZE1haWwoe1xyXG4gICAgICBmcm9tOiBwcm9jZXNzLmVudi5TTVRQX0ZST00sXHJcbiAgICAgIHRvLFxyXG4gICAgICBzdWJqZWN0LFxyXG4gICAgICBodG1sLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0VtYWlsIHNlbmRpbmcgZmFpbGVkOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufSAiXSwibmFtZXMiOlsibm9kZW1haWxlciIsInRyYW5zcG9ydGVyIiwiY3JlYXRlVHJhbnNwb3J0IiwiaG9zdCIsInByb2Nlc3MiLCJlbnYiLCJTTVRQX0hPU1QiLCJwb3J0IiwiTnVtYmVyIiwiU01UUF9QT1JUIiwic2VjdXJlIiwiYXV0aCIsInVzZXIiLCJTTVRQX1VTRVIiLCJwYXNzIiwiU01UUF9QQVNTIiwic2VuZEVtYWlsIiwidG8iLCJzdWJqZWN0IiwiaHRtbCIsInNlbmRNYWlsIiwiZnJvbSIsIlNNVFBfRlJPTSIsImVycm9yIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/email.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/stripe","vendor-chunks/qs","vendor-chunks/object-inspect","vendor-chunks/get-intrinsic","vendor-chunks/side-channel-list","vendor-chunks/side-channel-weakmap","vendor-chunks/has-symbols","vendor-chunks/side-channel-map","vendor-chunks/function-bind","vendor-chunks/side-channel","vendor-chunks/call-bind-apply-helpers","vendor-chunks/get-proto","vendor-chunks/dunder-proto","vendor-chunks/math-intrinsics","vendor-chunks/call-bound","vendor-chunks/es-errors","vendor-chunks/es-define-property","vendor-chunks/gopd","vendor-chunks/hasown","vendor-chunks/es-object-atoms","vendor-chunks/nodemailer","vendor-chunks/marked"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpayment%2Fsuccess%2Froute&page=%2Fapi%2Fpayment%2Fsuccess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpayment%2Fsuccess%2Froute.ts&appDir=D%3A%5Cprojects%5Clove-fortune%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cprojects%5Clove-fortune&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();